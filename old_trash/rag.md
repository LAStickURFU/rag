# RAG - Retrieval-Augmented Generation

RAG (Retrieval-Augmented Generation) - это подход в области искусственного интеллекта, который объединяет методы извлечения информации (Retrieval) и генерации текста (Generation).

Основные особенности RAG:

1. Сначала система ищет (извлекает) релевантную информацию из внешней базы знаний
2. Затем найденная информация используется как контекст для языковой модели
3. Языковая модель генерирует ответ, опираясь на предоставленный контекст

Такой подход позволяет:
- Предоставлять более точные ответы
- Уменьшить количество галлюцинаций в ответах
- Обеспечивать цитирование источников информации
- Использовать актуальные данные, не ограничиваясь тренировочным набором данных модели

## Инструменты для подготовки данных

В проекте реализованы инструменты для сбора и анализа текстовых данных для задач RAG:

### Сбор данных (`dataset_script/parser.py`)

Скрипт для парсинга веб-сайтов и сохранения текстового содержимого страниц:
- Извлекает URL из sitemap.xml (2712 страниц)
- Использует Playwright для обхода защиты от парсинга
- Сохраняет HTML и извлекает чистый текст
- Обеспечивает повторные попытки при ошибках
- Логирует успехи и неудачи при обработке

### Анализ данных (`dataset_script/rag_dataset_analysis.py`)

Скрипт для анализа собранных текстовых данных:
- Подсчет статистики (слова, символы, уникальные слова)
- Определение языка и дубликатов
- Расчет метрик качества для RAG (TTR, noise ratio и др.)
- Симуляция разбиения на чанки разных размеров (256, 512, 1024 токена)
- Генерация визуализаций (облака слов, распределения)

### Результаты анализа

В результате анализа было выявлено:
- Всего собрано 2712 документов на русском языке
- Средняя длина документа: 561 слово, 4062 символа
- 14 дубликатов в корпусе (0.5%)
- Около 27% документов (733) содержат менее 100 слов
- При размере чанка 512 токенов 31% документов (829) требуют более одного чанка

Эти инструменты позволяют:
- Оценить пригодность датасета для сегментации на чанки
- Избежать перекрытия тематики и дубликатов
- Выбрать оптимальный размер чанка с учётом статистики
- Оценить общий лексический запас и структурные особенности текста
